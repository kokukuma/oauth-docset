<!DOCTYPE html> 

<!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/htmlized_base.html -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>
  
    draft-ietf-oauth-resource-indicators-08
  
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

  @media only screen 
    and (min-width: 992px)
    and (max-width: 1199px) {
      body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 768px)
    and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-width: 480px)
    and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
  @media only screen 
    and (min-device-width : 375px) 
    and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
  @media only screen 
    and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
      font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
      font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
  .pre {
      white-space: pre;
      font-family: monospace;
  }
  .header{
      font-weight: bold;
  }
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        @media print {
            body {
                margin-top: 5em;
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
  @media screen {
      .grey, .grey a:link, .grey a:visited {
    color: #777;
      }
            .meta-info {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .pad {
                padding-top: 7px;
                line-height: 24px;
                padding-bottom: 4px;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
  }
    
     

.bgwhite  { background-color: white; }
.bgred    { background-color: #F44; }
.bggrey   { background-color: #666; }
.bgbrown  { background-color: #840; }            
.bgorange { background-color: #FA0; }
.bgyellow { background-color: #EE0; }
.bgmagenta{ background-color: #F4F; }
.bgblue   { background-color: #66F; }
.bgcyan   { background-color: #4DD; }
.bggreen  { background-color: #4F4; }

.draftcontent { margin-top:0px !important;}


    </style>

    <!--[if lt IE 9]>
        <script src="https://www.ietf.org/lib/dt/7.38.0/html5shiv/html5shiv.min.js"></script>
        <script src="https://www.ietf.org/lib/dt/7.38.0/respond/dest/respond.min.js"></script>
    <![endif]-->
    
  <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/draft-ietf-oauth-resource-indicators/">
  <meta name="description" content="Resource Indicators for OAuth 2.0 (Internet-Draft, 2019)">
  <script src="https://www.ietf.org/lib/dt/7.38.0/d3/d3.min.js"></script>
  <script src="https://www.ietf.org/lib/dt/7.38.0/jquery/jquery.min.js"></script>


    
    <link rel="shortcut icon" href="https://www.ietf.org/lib/dt/7.38.0/ietf/images/ietf-icon-blue3.png">
    
    <link rel="apple-touch-icon" href="https://www.ietf.org/lib/dt/7.38.0/ietf/images/apple-touch-icon.png">
  </head>

  <body style="padding-top: 0;">

	  <div class="content" id="content">
        
  <!-- template: /a/www/ietf-datatracker/web/ietf/templates/doc/document_html.html -->
 
  <div class="rfcmarkup">
    <div class="noprint" style="height: 6px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showLegend();"
         onmouseout="hideLegend()"
         style="height: 6px; min-height: 6px; width: 96ex; position: absolute; margin-top:0; "
         class="meta-info bgred"
         title="Click for colour legend." >&nbsp;</div>
      <div id="legend"
           class="meta-info noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showLegend();"
           onmouseout="hideLegend();">
      </div>
    </div>

    
      <div class="noprint">
	 <pre class="pre meta-info">[<a href="https://datatracker.ietf.org" title="Document search and retrieval page">Search</a>] [<a href="https://www.ietf.org/archive/id/draft-ietf-oauth-resource-indicators-08.txt" title="Plaintext version of this document">txt</a>|<a href="https://www.ietf.org/archive/id/draft-ietf-oauth-resource-indicators-08.xml" title="XML source for this document">xml</a>|<a href="https://tools.ietf.org/pdf/draft-ietf-oauth-resource-indicators-08.pdf" title="PDF version of this document">pdf</a>|<a href="/doc/draft-ietf-oauth-resource-indicators/08/bibtex" title="BibTex entry for this document">bibtex</a>] [<a href="/doc/draft-ietf-oauth-resource-indicators/" title="Datatracker information for this document">Tracker</a>] [<a href="/group/oauth/" title="The working group handling this document">WG</a>] [<a href="mailto:draft-ietf-oauth-resource-indicators@ietf.org?subject=draft-ietf-oauth-resource-indicators" title="Send email to the document authors">Email</a>] [<a href="https://www.ietf.org/rfcdiff?difftype=--hwdiff&url2=draft-ietf-oauth-resource-indicators-08.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://www.ietf.org/rfcdiff?url2=draft-ietf-oauth-resource-indicators-08.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://www.ietf.org/tools/idnits?url=https://www.ietf.org/archive/id/draft-ietf-oauth-resource-indicators-08.txt" title="Run an idnits check of this document">Nits</a>]

Versions: (<a href="/doc/html/draft-campbell-oauth-resource-indicators">draft-campbell-oauth-resource-indicators</a>)     Standards Track
          <a href="/doc/html/draft-ietf-oauth-resource-indicators-00">00</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-01">01</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-02">02</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-03">03</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-04">04</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-05">05</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-06">06</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-07">07</a> <a href="/doc/html/draft-ietf-oauth-resource-indicators-08"><b>08</b></a> <a href="/doc/html/rfc8707">rfc8707</a>                            </pre>
      </div>
    

    <div class="draftcontent">
    <pre>OAuth Working Group                                          B. Campbell
Internet-Draft                                             Ping Identity
Intended status: Standards Track                              J. Bradley
Expires: March 14, 2020                                           Yubico
                                                           H. Tschofenig
                                                             Arm Limited
                                                      September 11, 2019


                   <span class="h1">Resource Indicators for OAuth 2.0</span>
                <span class="h1">draft-ietf-oauth-resource-indicators-08</span>

Abstract

   This document specifies an extension to the OAuth 2.0 Authorization
   Framework defining request parameters that enable a client to
   explicitly signal to an authorization server about the identity of
   the protected resource(s) to which it is requesting access.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of <a href="/doc/html/bcp78">BCP 78</a> and <a href="/doc/html/bcp79">BCP 79</a>.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at <a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a>.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as &quot;work in progress.&quot;

   This Internet-Draft will expire on March 14, 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="/doc/html/bcp78">BCP 78</a> and the IETF Trust&#x27;s Legal
   Provisions Relating to IETF Documents
   (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in <a href="#section-4">Section 4</a>.e of



<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-2">2</a>
     <a href="#section-1.1">1.1</a>.  Requirements Notation and Conventions . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-1.2">1.2</a>.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
   <a href="#section-2">2</a>.  Resource Parameter  . . . . . . . . . . . . . . . . . . . . .   <a href="#page-3">3</a>
     <a href="#section-2.1">2.1</a>.  Authorization Request . . . . . . . . . . . . . . . . . .   <a href="#page-5">5</a>
     <a href="#section-2.2">2.2</a>.  Access Token Request  . . . . . . . . . . . . . . . . . .   <a href="#page-6">6</a>
   <a href="#section-3">3</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="#page-9">9</a>
   <a href="#section-4">4</a>.  Privacy Considerations  . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-5">5</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-5.1">5.1</a>.  OAuth Parameters Registration . . . . . . . . . . . . . .  <a href="#page-10">10</a>
     <a href="#section-5.2">5.2</a>.  OAuth Extensions Error Registration . . . . . . . . . . .  <a href="#page-10">10</a>
   <a href="#section-6">6</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-6.1">6.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
     <a href="#section-6.2">6.2</a>.  Informative References  . . . . . . . . . . . . . . . . .  <a href="#page-11">11</a>
   <a href="#appendix-A">Appendix A</a>.  Acknowledgements . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   <a href="#appendix-B">Appendix B</a>.  Document History . . . . . . . . . . . . . . . . . .  <a href="#page-12">12</a>
   Authors&#x27; Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <a href="#page-14">14</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>.  Introduction</span>

   Several years of deployment and implementation experience with the
   OAuth 2.0 Authorization Framework [<a href="/doc/html/rfc6749" title="&quot;The OAuth 2.0 Authorization Framework&quot;">RFC6749</a>] has uncovered a need, in
   some circumstances such as an authorization server servicing a
   significant number of diverse resources, for the client to explicitly
   signal to the authorization server where it intends to use the access
   token it is requesting.

   Knowing the protected resource (a.k.a. resource server, application,
   API, etc.) that will process the access token enables the
   authorization server to construct the token as necessary for that
   entity.  Properly encrypting the token (or content within the token)
   to a particular resource, for example, requires knowing which
   resource will receive and decrypt the token.  Furthermore, various
   resources oftentimes have different requirements with respect to the
   data contained in, or referenced by, the token and knowing the
   resource where the client intends to use the token allows the
   authorization server to mint the token accordingly.

   Specific knowledge of the intended recipient(s) of the access token
   also helps facilitate improved security characteristics of the token
   itself.  Bearer tokens, currently the most commonly utilized type of
   OAuth access token, allow any party in possession of a token to get
   access to the associated resources.  To prevent misuse, several



<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   important security assumptions must hold, one of which is that an
   access token must only be valid for use at a specific protected
   resource and for a specific scope of access.  <a href="/doc/html/rfc6750#section-5.2">Section&nbsp;5.2 of
   [RFC6750]</a>, for example, prescribes including the token&#x27;s intended
   recipients within the token to prevent token redirect.  When the
   authorization server is informed of the resource that will process
   the access token, it can restrict the intended audience of that token
   to the given resource such that the token cannot be used successfully
   at other resources.

   OAuth scope, from <a href="/doc/html/rfc6749#section-3.3">Section&nbsp;3.3 of [RFC6749]</a>, is sometimes overloaded
   to convey the location or identity of the protected resource,
   however, doing so isn&#x27;t always feasible or desirable.  Scope is
   typically about what access is being requested rather than where that
   access will be redeemed (e.g., &quot;email&quot;, &quot;admin:org&quot;, &quot;user_photos&quot;,
   &quot;channels:read&quot;, and &quot;channels:write&quot; are a small sample of scope
   values in use in the wild that convey only the type of access and not
   the location or identity).

   In some circumstances and for some deployments, a means for the
   client to signal to the authorization server where it intends to use
   the access token it&#x27;s requesting is important and useful.  A number
   of implementations and deployments of OAuth 2.0 have already employed
   proprietary parameters toward that end.  Going forward, this
   specification aspires to provide a standardized and interoperable
   alternative to the proprietary approaches.

<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a>.  Requirements Notation and Conventions</span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and
   &quot;OPTIONAL&quot; in this document are to be interpreted as described in <a href="/doc/html/bcp14">BCP</a>
   <a href="/doc/html/bcp14">14</a> [<a href="/doc/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>] [<a href="/doc/html/rfc8174" title="&quot;Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words&quot;">RFC8174</a>] when, and only when, they appear in all
   capitals, as shown here.

<span class="h3"><a class="selflink" id="section-1.2" href="#section-1.2">1.2</a>.  Terminology</span>

   This specification uses the terms &quot;access token&quot;, &quot;refresh token&quot;,
   &quot;authorization server&quot;, &quot;resource server&quot;, &quot;authorization endpoint&quot;,
   &quot;authorization request&quot;, &quot;authorization response&quot;, &quot;token endpoint&quot;,
   &quot;grant type&quot;, &quot;access token request&quot;, &quot;access token response&quot;, and
   &quot;client&quot; defined by The OAuth 2.0 Authorization Framework [<a href="/doc/html/rfc6749" title="&quot;The OAuth 2.0 Authorization Framework&quot;">RFC6749</a>].

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>.  Resource Parameter</span>

   In requests to the authorization server, a client MAY indicate the
   protected resource (a.k.a. resource server, application, API, etc.)




<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   to which it is requesting access by including the following parameter
   in the request.

   resource
      Indicates the target service or resource to which access is being
      requested.  Its value MUST be an absolute URI, as specified by
      <a href="/doc/html/rfc3986#section-4.3">Section&nbsp;4.3 of [RFC3986]</a>.  The URI MUST NOT include a fragment
      component.  It SHOULD NOT include a query component, but it is
      recognized that there are cases that make a query component a
      useful and necessary part of the resource parameter, such as when
      query parameter(s) are used to scope requests to an application.
      The &quot;resource&quot; parameter URI value is an identifier representing
      the identity of the resource, which MAY be a locator that
      corresponds to a network addressable location where the target
      resource is hosted.  Multiple &quot;resource&quot; parameters MAY be used to
      indicate that the requested token is intended to be used at
      multiple resources.

   The parameter value identifies a resource to which the client is
   requesting access.  The parameter can carry the location of a
   protected resource, typically as an https URL, or a more abstract
   identifier.  This enables the authorization server to apply policy as
   appropriate for the resource, such as determining the type and
   content of tokens to be issued, if and how tokens are encrypted, and
   applying appropriate audience restrictions.

   The client SHOULD provide the most specific URI that it can for the
   complete API or set of resources it intends to access.  In practice a
   client will know a base URI for the application or resource that it
   interacts with, which is appropriate to use as the value of the
   &quot;resource&quot; parameter.  The client SHOULD use the base URI of the API
   as the &quot;resource&quot; parameter value unless specific knowledge of the
   resource dictates otherwise.  For example, the value
   &quot;https://api.example.com/&quot; would be used for a resource that is the
   exclusive application on that host, however, if the resource is one
   of many applications on that host, something like
   &quot;https://api.example.com/app/&quot; would be used as a more specific
   value.  Another example, for an API like SCIM [<a href="/doc/html/rfc7644" title="&quot;System for Cross-domain Identity Management: Protocol&quot;">RFC7644</a>] that has
   multiple endpoints such as &quot;https://apps.example.com/scim/Users&quot;,
   &quot;https://apps.example.com/scim/Groups&quot;, and
   &quot;https://apps.example.com/scim/Schemas&quot; The client would use
   &quot;https://apps.example.com/scim/&quot; as the resource so that the issued
   access token is valid for all the endpoints of the SCIM API.

   The following error code is provided for an authorization server to
   indicate problems with the requested resource(s) in response to an
   authorization request or access token request.  It can also be used




<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   to inform the client that it has requested an invalid combination of
   resource and scope.

   invalid_target
      The requested resource is invalid, missing, unknown, or malformed.

   The authorization server SHOULD audience-restrict issued access
   tokens to the resource(s) indicated by the &quot;resource&quot; parameter.
   Audience restrictions can be communicated in JSON Web Tokens
   [<a href="/doc/html/rfc7519" title="&quot;JSON Web Token (JWT)&quot;">RFC7519</a>] with the &quot;aud&quot; claim and the top-level member of the same
   name provides the audience restriction information in a Token
   Introspection [<a href="/doc/html/rfc7662" title="&quot;OAuth 2.0 Token Introspection&quot;">RFC7662</a>] response.  The authorization server may use
   the exact &quot;resource&quot; value as the audience or it may map from that
   value to a more general URI or abstract identifier for the given
   resource.

<span class="h3"><a class="selflink" id="section-2.1" href="#section-2.1">2.1</a>.  Authorization Request</span>

   When the &quot;resource&quot; parameter is used in an authorization request to
   the authorization endpoint, it indicates the identity of the
   protected resource(s) to which access is being requested.  When an
   access token will be returned directly from the authorization
   endpoint via the implicit flow (<a href="#section-4.2">Section 4.2</a> of OAuth 2.0 [<a href="/doc/html/rfc6749" title="&quot;The OAuth 2.0 Authorization Framework&quot;">RFC6749</a>]),
   the requested resource is applicable to that access token.  In the
   code flow (<a href="#section-4.1">Section 4.1</a> of OAuth 2.0 [<a href="/doc/html/rfc6749" title="&quot;The OAuth 2.0 Authorization Framework&quot;">RFC6749</a>]) where an intermediate
   representation of the authorization grant (the authorization code) is
   returned from the authorization endpoint, the requested resource is
   applicable to the full authorization grant.

   For an authorization request sent as a JSON Web Token (JWT), such as
   when using JWT Secured Authorization Request [<a href="#ref-I-D.ietf-oauth-jwsreq">I-D.ietf-oauth-jwsreq</a>],
   a single &quot;resource&quot; parameter value is represented as a JSON string
   while multiple values are represented as an array of strings.

   If the client omits the &quot;resource&quot; parameter when requesting
   authorization, the authorization server MAY process the request with
   no specific resource or by using a pre-defined default resource
   value.  Alternatively, the authorization server MAY require clients
   to specify the resource(s) they intend to access and MAY fail
   requests that omit the parameter with an &quot;invalid_target&quot; error.  The
   authorization server might use this data to inform the user about the
   resources the client is going to access on her behalf, to apply
   policy (e.g., refuse the request due to unknown resources), and to
   determine the set of resources that can be used in subsequent access
   token requests.

   If the authorization server fails to parse the provided value(s) or
   does not consider the resource(s) acceptable, it should reject the



<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   request with an error response using the error code &quot;invalid_target&quot;
   as the value of the &quot;error&quot; parameter and can provide additional
   information regarding the reasons for the error using the
   &quot;error_description&quot;.

   An example of an authorization request where the client tells the
   authorization server that it wants an access token for use at
   &quot;https://api.example.com/app/&quot; is shown in Figure 1 below (extra line
   breaks and indentation are for display purposes only).

     GET /as/authorization.oauth2?response_type=token
        &amp;client_id=example-client
        &amp;state=XzZaJlcwYew1u0QBrRv_Gw
        &amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb
        &amp;resource=https%3A%2F%2Fapi.example.com%2Fapp%2F HTTP/1.1
     Host: authorization-server.example.com

               Figure 1: Implicit Flow Authorization Request

   Below in Figure 2 is an example of an authorization request using the
   &quot;code&quot; response type where the client is requesting access to the
   resource owner&#x27;s contacts and calendar data at
   &quot;https://cal.example.com/&quot; and &quot;https://contacts.example.com/&quot; (extra
   line breaks and indentation are for display purposes only).

     GET /as/authorization.oauth2?response_type=code
        &amp;client_id=s6BhdRkqt3
        &amp;state=tNwzQ87pC6llebpmac_IDeeq-mCR2wLDYljHUZUAWuI
        &amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb
        &amp;scope=calendar%20contacts
        &amp;resource=https%3A%2F%2Fcal.example.com%2F
        &amp;resource=https%3A%2F%2Fcontacts.example.com%2F HTTP/1.1
     Host: authorization-server.example.com

                 Figure 2: Code Flow Authorization Request

<span class="h3"><a class="selflink" id="section-2.2" href="#section-2.2">2.2</a>.  Access Token Request</span>

   When the &quot;resource&quot; parameter is used on an access token request made
   to the token endpoint, for all grant types, it indicates the target
   service or protected resource where the client intends to use the
   requested access token.

   The resource value(s) that are acceptable to an authorization server
   in fulfilling an access token request are at its sole discretion
   based on local policy or configuration.  In the case of a
   &quot;refresh_token&quot; or &quot;authorization_code&quot; grant type request, such
   policy may limit the acceptable resources to those that were



<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   originally granted by the resource owner or a subset thereof.  In the
   &quot;authorization_code&quot; case where the requested resources are a subset
   of the set of resources originally granted, the authorization server
   will issue an access token based on that subset of requested
   resources while any refresh token that is returned is bound to the
   full original grant.

   When requesting a token, the client can indicate the desired target
   service(s) where it intends to use that token by way of the
   &quot;resource&quot; parameter and can indicate the desired scope of the
   requested token using the &quot;scope&quot; parameter.  The semantics of such a
   request are that the client is asking for a token with the requested
   scope that is usable at all the requested target services.
   Effectively, the requested access rights of the token are the
   cartesian product of all the scopes at all the target services.  To
   the extent possible, when issuing access tokens, the authorization
   server should downscope the scope value associated with an access
   token to the value the respective resource is able to process and
   needs to know.  This further improves privacy as a list of scope
   values is an indication that the resource owner uses the multiple
   various services listed; downscoping a token to only that which is
   needed for a particular service can limit the extent to which such
   information is revealed across different services.  As specified in
   <a href="/doc/html/rfc6749#section-5.1">Section&nbsp;5.1 of [RFC6749]</a>, the authorization server must indicate the
   access token&#x27;s effective scope to the client in the &quot;scope&quot; response
   parameter value when it differs from the scope requested by the
   client.

   Following from the code flow authorization request shown in Figure 2,
   the below examples show an &quot;authorization_code&quot; grant type access
   token request (Figure 3) and response (Figure 4) where the client
   tells the authorization server that it wants the access token for use
   at &quot;https://cal.example.com/&quot; (extra line breaks and indentation are
   for display purposes only).

     POST /as/token.oauth2 HTTP/1.1
     Host: authorization-server.example.com
     Authorization: Basic czZCaGRSa3F0Mzpoc3FFelFsVW9IQUU5cHg0RlNyNHlJ
     Content-Type: application/x-www-form-urlencoded

     grant_type=authorization_code
     &amp;redirect_uri=https%3A%2F%2Fclient.example.org%2Fcb
     &amp;code=10esc29BWC2qZB0acc9v8zAv9ltc2pko105tQauZ
     &amp;resource=https%3A%2F%2Fcal.example.com%2F

                      Figure 3: Access Token Request





<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


      HTTP/1.1 200 OK
      Content-Type: application/json
      Cache-Control: no-cache, no-store

      {
         &quot;access_token&quot;:&quot;eyJhbGciOiJFUzI1NiIsImtpZCI6Ijc3In0.eyJpc3MiOi
          JodHRwOi8vYXV0aG9yaXphdGlvbi1zZXJ2ZXIuZXhhbXBsZS5jb20iLCJzdWI
          iOiJfX2JfYyIsImV4cCI6MTU4ODQyMDgwMCwic2NvcGUiOiJjYWxlbmRhciIs
          ImF1ZCI6Imh0dHBzOi8vY2FsLmV4YW1wbGUuY29tLyJ9.nNWJ2dXSxaDRdMUK
          lzs-cYIj8MDoM6Gy7pf_sKrLGsAFf1C2bDhB60DQfW1DZL5npdko1_Mmk5sUf
          zkiQNVpYw&quot;,
         &quot;token_type&quot;:&quot;Bearer&quot;,
         &quot;expires_in&quot;:3600,
         &quot;refresh_token&quot;:&quot;4LTC8lb0acc6Oy4esc1Nk9BWC0imAwH7kic16BDC2&quot;,
         &quot;scope&quot;:&quot;calendar&quot;
      }

                      Figure 4: Access Token Response

   A subsequent access token request, using the refresh token, where the
   client tells the authorization server that it wants an access token
   for use at &quot;https://contacts.example.com/&quot; is shown in Figure 5 below
   with the response shown in Figure 6 (extra line breaks and
   indentation are for display purposes only).

     POST /as/token.oauth2 HTTP/1.1
     Host: authorization-server.example.com
     Authorization: Basic czZCaGRSa3F0Mzpoc3FFelFsVW9IQUU5cHg0RlNyNHlJ
     Content-Type: application/x-www-form-urlencoded

     grant_type=refresh_token
     &amp;refresh_token=4LTC8lb0acc6Oy4esc1Nk9BWC0imAwH7kic16BDC2
     &amp;resource=https%3A%2F%2Fcontacts.example.com%2F

                      Figure 5: Access Token Request
















<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


      HTTP/1.1 200 OK
      Content-Type: application/json
      Cache-Control: no-cache, no-store

      {
         &quot;access_token&quot;:&quot;eyJhbGciOiJFUzI1NiIsImtpZCI6Ijc3In0.eyJpc3MiOi
          JodHRwOi8vYXV0aG9yaXphdGlvbi1zZXJ2ZXIuZXhhbXBsZS5jb20iLCJzdWI
          iOiJfX2JfYyIsImV4cCI6MTU4ODQyMDgyNiwic2NvcGUiOiJjb250YWN0cyIs
          ImF1ZCI6Imh0dHBzOi8vY29udGFjdHMuZXhhbXBsZS5jb20vIn0.5f4yhqazc
          OSlJw4y94KPeWNEFQqj2cfeO8x4hr3YbHtIl3nQXnBMw5wREY5O1YbZED-GfH
          UowfmtNaA5EikYAw&quot;,
         &quot;token_type&quot;:&quot;Bearer&quot;,
         &quot;expires_in&quot;:3600,
         &quot;scope&quot;:&quot;contacts&quot;
      }

                      Figure 6: Access Token Response

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>.  Security Considerations</span>

   An audience-restricted access token, legitimately presented to a
   resource, cannot then be taken by that resource and presented
   elsewhere for illegitimate access to other resources.  The &quot;resource&quot;
   parameter enables a client to indicate the protected resources where
   the requested access token will be used, which in turn enables the
   authorization server to apply the appropriate audience restrictions
   to the token.

   Some servers may host user content or be multi-tenant.  In order to
   avoid attacks where one tenant uses an access token to illegitimately
   access resources owned by a different tenant, it is important to use
   a specific resource URI including any portion of the URI that
   identifies the tenant, such as a path component.  This will allow
   access tokens to be audience-restricted in a way that identifies the
   tenant and prevent their use, due to an invalid audience, at
   resources owned by a different tenant.

   Although multiple occurrences of the &quot;resource&quot; parameter may be
   included in a token request, using only a single &quot;resource&quot; parameter
   is encouraged.  A bearer token that has multiple intended recipients
   (audiences) indicating that the token is valid at more than one
   protected resource can be used by any one of those protected
   resources to access any of the other protected resources.  Thus, a
   high degree of trust between the involved parties is needed when
   using access tokens with multiple audiences.  Furthermore an
   authorization server may be unwilling or unable to fulfill a token
   request with multiple resources.




<span class="grey">Campbell, et al.         Expires March 14, 2020                 [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   Whenever feasible, the &quot;resource&quot; parameter should correspond to the
   network addressable location of the protected resource.  This makes
   it possible for the client to validate that the resource being
   requested controls the corresponding network location, reducing the
   risk of malicious endpoints obtaining tokens meant for other
   resources.  If the &quot;resource&quot; parameter contains an abstract
   identifier, it is the client&#x27;s responsibility to validate out of band
   that any network endpoint to which tokens are sent are the intended
   audience for that identifier.

<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>.  Privacy Considerations</span>

   In typical OAuth deployments the authorization sever is in a position
   to observe and track a significant amount of user and client
   behavior.  It is largely just inherent to the nature of OAuth and
   this document does little to affect that.  In some cases, however,
   such as when access token introspection is not being used, use of the
   resource parameter defined herein may allow for tracking behavior at
   a somewhat more granular and specific level than would otherwise be
   possible in its absence.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>.  IANA Considerations</span>

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a>.  OAuth Parameters Registration</span>

   This specification updates the following value in the IANA &quot;OAuth
   Parameters&quot; registry [<a href="#ref-IANA.OAuth.Parameters">IANA.OAuth.Parameters</a>] established by
   [<a href="/doc/html/rfc6749" title="&quot;The OAuth 2.0 Authorization Framework&quot;">RFC6749</a>].

   o  Parameter name: resource
   o  Parameter usage location: authorization request, token request
   o  Change controller: IESG
   o  Specification document(s): [[ this specification ]]

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a>.  OAuth Extensions Error Registration</span>

   This specification updates the following error in the IANA &quot;OAuth
   Extensions Error Registry&quot; [<a href="#ref-IANA.OAuth.Parameters">IANA.OAuth.Parameters</a>] established by
   [<a href="/doc/html/rfc6749" title="&quot;The OAuth 2.0 Authorization Framework&quot;">RFC6749</a>].

   o  Error name: invalid_target
   o  Error usage location: implicit grant error response, token error
      response
   o  Related protocol extension: resource parameter
   o  Change controller: IESG
   o  Specification document(s): [[ this specification ]]





<span class="grey">Campbell, et al.         Expires March 14, 2020                [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>.  References</span>

<span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a>.  Normative References</span>

   [<a id="ref-IANA.OAuth.Parameters">IANA.OAuth.Parameters</a>]
              IANA, &quot;OAuth Parameters&quot;,
              &lt;<a href="http://www.iana.org/assignments/oauth-parameters">http://www.iana.org/assignments/oauth-parameters</a>&gt;.

   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC3986">RFC3986</a>]  Berners-Lee, T., Fielding, R., and L. Masinter, &quot;Uniform
              Resource Identifier (URI): Generic Syntax&quot;, STD 66,
              <a href="/doc/html/rfc3986">RFC 3986</a>, DOI 10.17487/RFC3986, January 2005,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;.

   [<a id="ref-RFC6749">RFC6749</a>]  Hardt, D., Ed., &quot;The OAuth 2.0 Authorization Framework&quot;,
              <a href="/doc/html/rfc6749">RFC 6749</a>, DOI 10.17487/RFC6749, October 2012,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6749">https://www.rfc-editor.org/info/rfc6749</a>&gt;.

   [<a id="ref-RFC8174">RFC8174</a>]  Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in <a href="/doc/html/rfc2119">RFC</a>
              <a href="/doc/html/rfc2119">2119</a> Key Words&quot;, <a href="/doc/html/bcp14">BCP 14</a>, <a href="/doc/html/rfc8174">RFC 8174</a>, DOI 10.17487/RFC8174,
              May 2017, &lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;.

<span class="h3"><a class="selflink" id="section-6.2" href="#section-6.2">6.2</a>.  Informative References</span>

   [<a id="ref-I-D.ietf-oauth-jwsreq">I-D.ietf-oauth-jwsreq</a>]
              Sakimura, N. and J. Bradley, &quot;The OAuth 2.0 Authorization
              Framework: JWT Secured Authorization Request (JAR)&quot;,
              <a href="/doc/html/draft-ietf-oauth-jwsreq-19">draft-ietf-oauth-jwsreq-19</a> (work in progress), June 2019.

   [<a id="ref-RFC6750">RFC6750</a>]  Jones, M. and D. Hardt, &quot;The OAuth 2.0 Authorization
              Framework: Bearer Token Usage&quot;, <a href="/doc/html/rfc6750">RFC 6750</a>,
              DOI 10.17487/RFC6750, October 2012,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6750">https://www.rfc-editor.org/info/rfc6750</a>&gt;.

   [<a id="ref-RFC7519">RFC7519</a>]  Jones, M., Bradley, J., and N. Sakimura, &quot;JSON Web Token
              (JWT)&quot;, <a href="/doc/html/rfc7519">RFC 7519</a>, DOI 10.17487/RFC7519, May 2015,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;.

   [<a id="ref-RFC7644">RFC7644</a>]  Hunt, P., Ed., Grizzle, K., Ansari, M., Wahlstroem, E.,
              and C. Mortimore, &quot;System for Cross-domain Identity
              Management: Protocol&quot;, <a href="/doc/html/rfc7644">RFC 7644</a>, DOI 10.17487/RFC7644,
              September 2015, &lt;<a href="https://www.rfc-editor.org/info/rfc7644">https://www.rfc-editor.org/info/rfc7644</a>&gt;.





<span class="grey">Campbell, et al.         Expires March 14, 2020                [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   [<a id="ref-RFC7662">RFC7662</a>]  Richer, J., Ed., &quot;OAuth 2.0 Token Introspection&quot;,
              <a href="/doc/html/rfc7662">RFC 7662</a>, DOI 10.17487/RFC7662, October 2015,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7662">https://www.rfc-editor.org/info/rfc7662</a>&gt;.

<span class="h2"><a class="selflink" id="appendix-A" href="#appendix-A">Appendix A</a>.  Acknowledgements</span>

   This specification was developed within the OAuth Working Group under
   the chairmanship of Hannes Tschofenig and Rifaat Shekh-Yusef with
   Eric Rescorla, Benjamin Kaduk and Roman Danyliw serving as Security
   Area Directors.  Additionally, the following individuals contributed
   ideas, feedback, and wording that helped shape this specification:

   Vittorio Bertocci, Sergey Beryozkin, Roman Danyliw, William Denniss,
   Vladimir Dzhuvinov, George Fletcher, Dick Hardt, Phil Hunt, Michael
   Jones, Benjamin Kaduk, Barry Leiba, Torsten Lodderstedt, Anthony
   Nadalin, Justin Richer, Adam Roach, Nat Sakimura, Rifaat Shekh-Yusef,
   Filip Skokan, Eric Vyncke, and Hans Zandbelt.

<span class="h2"><a class="selflink" id="appendix-B" href="#appendix-B">Appendix B</a>.  Document History</span>

   [[ to be removed by the RFC Editor before publication as an RFC ]]

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-08">draft-ietf-oauth-resource-indicators-08</a>

   o  One last update from IESG evaluation comments
      (<a href="https://mailarchive.ietf.org/arch/msg/oauth/x87EQ0Dwq3_ERrH5PzDjRSaWBt4">https://mailarchive.ietf.org/arch/msg/oauth/</a>
      <a href="https://mailarchive.ietf.org/arch/msg/oauth/x87EQ0Dwq3_ERrH5PzDjRSaWBt4">x87EQ0Dwq3_ERrH5PzDjRSaWBt4</a>).

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-07">draft-ietf-oauth-resource-indicators-07</a>

   o  One more update from IESG evaluation comments
      (<a href="https://mailarchive.ietf.org/arch/msg/oauth/RS0UZSsguQurHl4P18Zo77BzZnU">https://mailarchive.ietf.org/arch/msg/oauth/</a>
      <a href="https://mailarchive.ietf.org/arch/msg/oauth/RS0UZSsguQurHl4P18Zo77BzZnU">RS0UZSsguQurHl4P18Zo77BzZnU</a>).

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-06">draft-ietf-oauth-resource-indicators-06</a>

   o  Expand JWT acronym on first use per Genart last call review.
   o  Updates from IESG evaluation comments.

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-05">draft-ietf-oauth-resource-indicators-05</a>

   o  Remove specific mention of error_uri, which is rarely (if ever)
      used and seems to only confuse things for readers of extensions
      like this one.

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-04">draft-ietf-oauth-resource-indicators-04</a>

   o  Editorial updates from AD review that were overlooked in -03.



<span class="grey">Campbell, et al.         Expires March 14, 2020                [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


   <a href="/doc/html/draft-ietf-oauth-resource-indicators-03">draft-ietf-oauth-resource-indicators-03</a>

   o  Editorial updates from AD review.
   o  Update <a href="/doc/html/draft-ietf-oauth-jwsreq">draft-ietf-oauth-jwsreq</a> ref to -19.
   o  Update the IANA requests to say they update the registries.

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-02">draft-ietf-oauth-resource-indicators-02</a>

   o  Clarify that the value of the &quot;resource&quot; parameter is a URI which
      can be an abstract identifier for the target resource and doesn&#x27;t
      necessarily have to correspond to a network addressable location.

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-01">draft-ietf-oauth-resource-indicators-01</a>

   o  Significant rework of the main section of the document attempting
      to clarify a number of things that came up at, around and after
      IETF 102 and the call for adoption.
   o  Change the &quot;invalid_resource&quot; error to &quot;invalid_target&quot; to align
      with <a href="/doc/html/draft-ietf-oauth-token-exchange">draft-ietf-oauth-token-exchange</a>, which has some overlap in
      functionality.
   o  Allow the &quot;resource&quot; parameter value to have a query component
      (aligning with <a href="/doc/html/draft-ietf-oauth-token-exchange">draft-ietf-oauth-token-exchange</a>).
   o  Moved the Security Considerations section to before the IANA
      Considerations.
   o  Other editorial updates.
   o  Rework the Acknowledgements section.
   o  Use <a href="/doc/html/rfc8174">RFC 8174</a> boilerplate.

   <a href="/doc/html/draft-ietf-oauth-resource-indicators-00">draft-ietf-oauth-resource-indicators-00</a>

   o  First version of the working group document.  A replica of <a href="/doc/html/draft-campbell-oauth-resource-indicators-02">draft-</a>
      <a href="/doc/html/draft-campbell-oauth-resource-indicators-02">campbell-oauth-resource-indicators-02</a>.

   <a href="/doc/html/draft-campbell-oauth-resource-indicators-02">draft-campbell-oauth-resource-indicators-02</a>

   o  No changes.

   <a href="/doc/html/draft-campbell-oauth-resource-indicators-01">draft-campbell-oauth-resource-indicators-01</a>

   o  Move Hannes Tschofenig, who wrote <a href="https://tools.ietf.org/html/draft-tschofenig-oauth-audience">https://tools.ietf.org/html/</a>
      <a href="https://tools.ietf.org/html/draft-tschofenig-oauth-audience">draft-tschofenig-oauth-audience</a> in &#x27;13, from Acknowledgements to
      Authors.
   o  Added IANA Considerations to register the &quot;resource&quot; parameter and
      &quot;invalid_resource&quot; error code.

   <a href="/doc/html/draft-campbell-oauth-resource-indicators-00">draft-campbell-oauth-resource-indicators-00</a>

   o  Initial draft to define a resource parameter for OAuth 2.0.



<span class="grey">Campbell, et al.         Expires March 14, 2020                [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey">Internet-Draft          OAuth Resource Indicators         September 2019</span>


Authors&#x27; Addresses

   Brian Campbell
   Ping Identity

   Email: brian.d.campbell@gmail.com


   John Bradley
   Yubico

   Email: ve7jtb@ve7jtb.com


   Hannes Tschofenig
   Arm Limited

   Email: hannes.tschofenig@gmx.net

































Campbell, et al.         Expires March 14, 2020                [Page 14]
</pre>
    </div>

  </div>


        
	  </div>

	

	

    </div>

      
      <script>$(".visible-nojs").removeClass("visible-nojs");</script>
      <script>$(".hidden-nojs").removeClass("hidden-nojs");</script>
      
    <script type="text/javascript"><!--
    var legend_html = "Colour legend:<br /> \
     <table> \
        <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
        <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr> \
    </table>";
    function showLegend() {
        var elem = document.getElementById('legend');
        elem.innerHTML = legend_html
        elem.style.visibility='visible';
    }
    function hideLegend() {
        var elem = document.getElementById('legend');
        elem.style.visibility='hidden';
        elem.innerHTML = "";
    }
    // -->
    </script>

  </body>
</html>

